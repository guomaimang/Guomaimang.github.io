---
article: false
date: 2022-04-30
index: 2 
author: RUNOOB, Hirsun
---

# Privilege and own

Linux 系统是一种典型的多用户系统，不同的用户处于不同的地位，拥有不同的权限。

为了保护系统的安全性，Linux 系统对不同的用户访问同一文件（包括目录文件）的权限做了不同的规定。

在 Linux 中我们通常使用以下两个命令来修改文件或目录的所属用户与权限：

- chown (change owner) ： 修改所属用户与组。
- chmod (change mode) ： 修改用户的权限。

## 查看文件属性

在 Linux 中我们可以使用 **ll** 或者 **ls –l** 命令来显示一个文件的属性以及文件所属的用户和组

```
[root@www /]# ls -l
total 64
dr-xr-xr-x   2 root root 4096 Dec 14  2012 bin
dr-xr-xr-x   4 root root 4096 Apr 19  2012 boot
……
```

在 Linux 中第一个字符代表这个文件是目录、文件或链接文件等等。因为在linux中，一切皆文件。

- 当为 **d** 则是目录
- 当为 **-** 则是文件；
- 若是 **l** 则表示为链接文档(link file)；
- 若是 **b** 则表示为装置文件里面的可供储存的接口设备(可随机存取装置)；
- 若是 **c** 则表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)。

![1651332787274.png](https://pic.hanjiaming.com.cn/2022/04/30/24ba6d944195a.png)

接下来的字符中，以三个为一组，且均为 **rwx** 的三个参数的组合。其中， **r** 代表可读(read)、 **w** 代表可写(write)、 **x** 代表可执行(execute)。 要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号 **-** 而已。

![1651332807274.png](https://pic.hanjiaming.com.cn/2022/04/30/2ac473b7081ad.png)

## Linux文件属主和属组

对于文件来说，它都有一个特定的所有者，也就是对该文件具有所有权的用户。

同时，在Linux系统中，**用户是按组分类的，一个用户属于一个或多个组。**

文件所有者以外的用户又可以分为文件所属组的同组用户和其他用户。

**Linux系统按文件所有者（属主）、文件所有者同组用户（属组）和其他用户来规定了不同的文件访问权限。**

对于 root 用户来说，一般情况下，文件的权限对其不起作用。

## 更改文件属性

### chgrp：更改文件属组

语法：

```
chgrp [-R] 属组名 文件名
```

参数选项

- -R：递归更改文件属组，就是在更改某个目录文件的属组时，如果加上-R的参数，那么该目录下的所有文件的属组都会更改。

### chown：更改文件属主

也可以同时更改文件属组

语法：

```
chown [–R] 属主名 文件名
chown [-R] 属主名：属组名 文件名  # 同时修改属组
```

### chmod：更改文件9个属性

Linux文件属性有两种表示方法，一种是数字，一种是符号。

#### 数字表示权限

Linux 文件的基本权限就有九个，分别是 **owner/group/others(拥有者/组/其他)** 三种身份各有自己的 **read/write/execute** 权限。

> 各权限的分数对照表如下：
>
> - r:4
> - w:2
> - x:1
>
> 每种身份(owner/group/others)各自的三个权限(r/w/x)分数是需要累加的，例如当权限为： **-rwxrwx---** 分数则是：
>
> - owner = rwx = 4+2+1 = 7
> - group = rwx = 4+2+1 = 7
> - others= --- = 0+0+0 = 0
>
> 所以等一下我们设定权限的变更时，该文件的权限数字就是 **770**。

变更权限为770的指令 chmod 的语法是这样的：

```
 chmod [-R] 770 文件或目录
```

选项与参数：

- **-R** : 进行递归(recursive)的持续变更，以及连同次目录下的所有文件都会变更

如果要将权限变成 *-rwxr-xr--* 呢？那么权限的分数就成为 `[4+2+1][4+0+1][4+0+0]=754`。

#### 符号表示权限

1. 我们需要将文件权限设置为 **-rwxr-xr--** ，可以使用 `chmod u=rwx,g=rx,o=r filename `来设定

2. 我们也可以使用加减法来操作

   下面的 a 表示所有人

   ![CleanShot 2022-04-30 at 23.42.44@2x.png](https://pic.hanjiaming.com.cn/2022/04/30/02dcb37476c89.png)

   比如 `chmod o-w, g+w test.txt` ：test.txt 的属主减去 可写 的权限, 属组添加 可写 的权限。
